<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Updating the Hugo theme on a blogdown site can be intimidating, the trick is to pick a theme with good documentation and an example site. Then you can use the example site to work out how to adjust the theme to your needs'><title>Changing and modifying a Hugo theme on your R Blogdown site</title>

<link rel='canonical' href='https://restlessdata.com.au/p/updating-a-blog-theme/'>

<link rel="stylesheet" href="/scss/style.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/styles/a11y-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<meta property='og:title' content='Changing and modifying a Hugo theme on your R Blogdown site'>
<meta property='og:description' content='Updating the Hugo theme on a blogdown site can be intimidating, the trick is to pick a theme with good documentation and an example site. Then you can use the example site to work out how to adjust the theme to your needs'>
<meta property='og:url' content='https://restlessdata.com.au/p/updating-a-blog-theme/'>
<meta property='og:site_name' content='Restless Data'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='blogdown' /><meta property='article:tag' content='hugo' /><meta property='article:published_time' content='2021-06-24T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2021-07-11T00:00:00&#43;00:00'/><meta property='og:image' content='https://restlessdata.com.au/img/DSCN1968_edited-1_20070804_165511_002.jpg' />
<meta name="twitter:site" content="@mrjoh3">
    <meta name="twitter:creator" content="@mrjoh3"><meta name="twitter:title" content="Changing and modifying a Hugo theme on your R Blogdown site">
<meta name="twitter:description" content="Updating the Hugo theme on a blogdown site can be intimidating, the trick is to pick a theme with good documentation and an example site. Then you can use the example site to work out how to adjust the theme to your needs"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://restlessdata.com.au/img/DSCN1968_edited-1_20070804_165511_002.jpg' />
<link rel="icon" type="image/svg+xml" href="../../fav3/favicon.svg">
<link rel="icon" type="image/png" href="../../fav3/favicon.png">
<link rel="icon" type="image/svg+xml" href="fav3/favicon.svg">
<link rel="icon" type="image/png" href="fav3/favicon.png">
    </head>
    <body class="">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "dark");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.body.dataset.scheme = 'dark';
        } else {
            document.body.dataset.scheme = 'light';
        }
    })();
</script><div class="container main-container flex on-phone--column extended article-page with-toolbar">
            <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            <figure class="site-avatar">
                
                    
                    
                    
                        
                        <img src="/img/logo_hu976be0218d7e1cbb3ab23c04a582ef68_12526_300x0_resize_q75_box.jpg" width="300"
                            height="261" class="site-logo" loading="lazy" alt="Avatar">
                    
                

                
                    <span class="emoji">👣</span>
                
            </figure>
        
        <h1 class="site-name"><a href="https://restlessdata.com.au/">Restless Data</a></h1>
        <h2 class="site-description">A blog about data analytics and R but also anything spatial, visual or interesting.</h2>
    </header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about-restless-data/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About Restless Data</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        

        <li >
            <a href='/packages/'>
                
                    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   class="icon icon-tabler icon-tabler-chevron-left"
   width="24"
   height="24"
   viewBox="0 0 24 24"
   stroke-width="2"
   stroke="currentColor"
   fill="none"
   stroke-linecap="round"
   stroke-linejoin="round"
   version="1.1"
   id="svg6"
   sodipodi:docname="packages.svg"
   inkscape:version="1.0.2 (e86c870879, 2021-01-15)">
  <metadata
     id="metadata12">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <defs
     id="defs10" />
  <sodipodi:namedview
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1"
     objecttolerance="10"
     gridtolerance="10"
     guidetolerance="10"
     inkscape:pageopacity="0"
     inkscape:pageshadow="2"
     inkscape:window-width="778"
     inkscape:window-height="480"
     id="namedview8"
     showgrid="false"
     inkscape:zoom="39.833333"
     inkscape:cx="12"
     inkscape:cy="12"
     inkscape:window-x="0"
     inkscape:window-y="34"
     inkscape:window-maximized="0"
     inkscape:current-layer="svg6" />
  <path
     stroke="none"
     d="M0 0h24v24H0z"
     id="path2" />
  <polyline
     points="15 6 9 12 15 18"
     id="polyline4"
     transform="matrix(-1,0,0,1,24.000041,0)" />
</svg>

                
                <span>Packages</span>
            </a>
        </li>
        
        

        <li >
            <a href='/categories/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4" />
  <circle cx="9" cy="9" r="2" />
</svg>



                
                <span>Categories</span>
            </a>
        </li>
        
        

        <li >
            <a href='https://github.com/mrjoh3'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>


                
                <span>Github</span>
            </a>
        </li>
        
        

        <li >
            <a href='https://twitter.com/mrjoh3'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>


                
                <span>Twitter</span>
            </a>
        </li>
        

        
            <li id="dark-mode-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <span>Dark Mode</span>
            </li>
        
    </ol>
</aside>

            <main class="main full-width">
    <div id="article-toolbar">
        <a href="https://restlessdata.com.au/" class="back-home">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



            <span>Back</span>
        </a>
    </div>

    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/updating-a-blog-theme/">
                
                    <img src="/img/DSCN1968_edited-1_20070804_165511_002.jpg" loading="lazy" alt="Featured image of post Changing and modifying a Hugo theme on your R Blogdown site" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/web/" >
                web
            </a>
        
            <a href="/categories/r/" >
                R
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/p/updating-a-blog-theme/">Changing and modifying a Hugo theme on your R Blogdown site</a>
    </h2>

    
    <h3 class="article-subtitle">
        Updating the Hugo theme on a blogdown site can be intimidating, the trick is to pick a theme with good documentation and an example site. Then you can use the example site to work out how to adjust the theme to your needs
    </h3>
    

    <div style="display: grid; grid-template-columns: 50% 50%">
        <div style="justify-self: start;"><footer class="article-time">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--published">Jun 24, 2021</time>
            </footer></div>
        <div class="article-time" style="justify-self: end; display: inline;">
            <span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-book" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
  <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
  <line x1="3" y1="6" x2="3" y2="19" />
  <line x1="12" y1="6" x2="12" y2="19" />
  <line x1="21" y1="6" x2="21" y2="19" />
</svg>
</span>
            <span class="meta__text post-word-count">7 min read</span>
        </div>
    
    </div>
</div>
</header>

    <section class="article-content">
    
<script src="https://restlessdata.com.au/p/updating-a-blog-theme/index.en_files/header-attrs/header-attrs.js"></script>


<p>In an effort to resurrect my long neglected <code>blogdown</code> site, I decided to switch to a new theme. It is possible to use <code>blogdown::install_theme()</code> to get you started adding a new theme. But I wanted to do the update manually and then start to modify the theme to suit my needs. For <code>R</code> coders sometimes other languages and interacting with <code>HTML</code> and <code>CSS</code> can be intimidating but the results are very satisfying. I also think that tools like <code>rmarkdown</code> and <code>shiny</code> have forced us to know enough about web languages to work things out. This post is a record of the steps I took to change to and then modify a new Hugo theme, plus some of the small gotcha’s I encountered along the way.</p>
<div id="first-find-a-good-theme" class="section level2">
<h2>First find a good theme</h2>
<p>On the <a href="https://themes.gohugo.io/">Hugo themes website</a> there are almost 300 to choose from. The themes website is well designed so it is easy to filter and sort to find the theme you are after. Make sure you find one with good documentation and an example website for you to better understand how it all fits together. Not all documentation is created equally so it is worth taking the time at the start to work through it.</p>
<p>Another thing to remember is that themes can have different requirements for structuring your blogs content. So also check the example website’s structure to assess how much effort is required to adapt your site.</p>
<p>In my work life I generally have to use standard corporate themes. My previous theme was the wonderful <a href="https://themes.gohugo.io/future-imperfect/">future imperfect</a> but this time I wanted to try something darker and something good for displaying photos. I also wanted a theme that:</p>
<ol style="list-style-type: decimal">
<li>is responsive and looks good on a phone</li>
<li>is good for displaying photos</li>
<li>has a good simple search function</li>
<li>displays tags nicely</li>
</ol>
<p>Eventually I decided on the <a href="https://themes.gohugo.io/hugo-theme-stack/">stack theme</a> by <a href="https://jimmycai.com/">Jimmy Cai</a>. Some extra features that clinched the deal were:</p>
<ol style="list-style-type: decimal">
<li>ability to toggle between light and dark themes</li>
<li>local search</li>
<li><a href="https://photoswipe.com/">PhotoSwipe</a> integration</li>
<li>an archive page template</li>
<li>no built in JavaScript or CSS frameworks</li>
</ol>
<p>This last point, I hope, will lead to less conflicts when adding <code>htmlwidgets</code> to posts.</p>
</div>
<div id="import-new-theme" class="section level2">
<h2>Import new theme</h2>
<p>To import the theme I just followed the <a href="https://docs.stack.jimmycai.com/getting-started">documentation</a> and imported the theme using git clone before setting up the theme as a sub-module.</p>
<pre class="console"><code>git clone https://github.com/CaiJimmy/hugo-theme-stack/ themes/hugo-theme-stack

git submodule add https://github.com/CaiJimmy/hugo-theme-stack/ themes/hugo-theme-stack</code></pre>
<p>These are the usual instructions for adding a theme. But adding the theme as a sub-module is optional. You will need to make some changes to the contents of the theme and you will also want to keep track of these changes in git. Using the code above the sub-module points to the original source, but you may not want to push your changes to this repo.</p>
<p>After a while I removed the sub-module and added the theme to the sites repo. To do this you need to use the <code>git deinit</code> command but you also need to delete cached files from the git repo. I did this based on a <a href="https://stackoverflow.com/a/26752628/1498485">Stack Overflow answer</a> which is copied below.</p>
<pre class="console"><code>mv themes/hugo-theme-stack themes/hugo-theme-stack_tmp
git themes/hugo-theme-stack deinit themes/hugo-theme-stack
git rm --cached themes/hugo-theme-stack
mv themes/hugo-theme-stack_tmp subfolder
git add themes/hugo-theme-stack</code></pre>
</div>
<div id="update-the-config-file" class="section level2">
<h2>Update the Config file</h2>
<p>Now it is time to update your sites <code>config.toml</code> or <code>config.yaml</code> file. Remember we selected a theme that has an example website. So rename your old <code>config</code> file and copy across the one from the new theme example. Then you can go through updating the new <code>config</code> file based on the old one. With luck this will be enough to get your site running using <code>blogdown::build_site()</code> then <code>blogdown::serve_site()</code>.</p>
</div>
<div id="update-site-structure" class="section level2">
<h2>Update site structure</h2>
<p>At this stage it becomes pretty obvious what is working and what is not. For me, the new theme had a different structure to deal with pages like <code>about</code>. Using the new <code>config</code> file and the structure of the example site I was able to adapt to this pretty easily.</p>
<p>The biggest issue I had was trying to update the page logo. This is just a <code>.jpg</code> file for both the old and new theme. It took a long time to realise that the new theme expected this file to be in the <code>themes/hugo-theme-stack/assets/img</code> folder when the old theme expected it to be in <code>static/img</code>. In both cases you refer to the file using <code>img/logo.jpg</code>, so I could not understand what I was doing wrong.</p>
</div>
<div id="exploring-the-theme-contents" class="section level1">
<h1>Exploring the Theme contents</h1>
<p>It is worth having a good idea of the structure and the files in the theme. There will be lots of instances where it is best to make changes in the theme as this will cascade through the site. For example, I wanted to use <a href="https://highlightjs.org/">highlight.js</a> for syntax highlighting. This can be done with 3 lines of code:</p>
<pre class="html"><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/styles/a11y-dark.min.css&quot;&gt;
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/highlight.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;hljs.highlightAll();&lt;/script&gt;</code></pre>
<p>Of course you can add this to each post, but if you add it to the theme it becomes available to all posts. This are where <a href="https://gohugo.io/templates/partials/">Hugo partial templates</a> become really powerful. A partial is a small html template. On build all of the partials get joined together to form the full page. These small chunks are much easier to maintain and are often parametised and will vary depending on site and page settings and content.</p>
<p>In the <code>themes/hugo-theme-stack/layouts/partials/head</code> folder, there is a file called <code>script.html</code>. In the base theme the file is empty but is intended to be modified. There were also files called:</p>
<ul>
<li>head.html</li>
<li>custom.html</li>
<li>style.html</li>
</ul>
<style>
.right {
  display: block;
  float: right;
  width: 20%;
}
</style>
<p><img class = "right" src="../../fav3/favicon.svg"/></p>
<p>I used the <code>custom.html</code> file to include all the links needed to add a <code>favicon</code> to my site. The <code>svg</code> for the <code>favicon</code> was created in <code>Inkscape</code>, then I used <a href="https://realfavicongenerator.net/">RealFaviconGenerator</a> to convert to a <code>favicon</code>. This is the same service behind <code>pkgdown</code>’s <a href="https://pkgdown.r-lib.org/reference/build_favicons.html">pkgdown::build_favicon()</a> function.</p>
<p>The last change to the theme I made (for now) was to add the read time for each article at the top of the page. Reading time is available in the Hugo <a href="https://gohugo.io/variables/page/">page variable</a> <code>.ReadingTime</code>. Hugo calculates reading time as <code>(words + 212) / 213</code>. After looking through all the files in the theme, I found that the <code>themes/hugo-theme-stack/layouts/partials/article/components/details</code> contained all of the page information such as title, description, and publish date. After finding the place to put the reading time I only need to add the following two <code>span</code> tags to get a book icon and the calculated read time.</p>
<pre class="html"><code>&lt;span&gt;{{ partial &quot;helper/icon&quot; &quot;book&quot; }}&lt;/span&gt;
&lt;span class=&quot;meta__text post-word-count&quot;&gt;{{ .ReadingTime }} min read&lt;/span&gt;</code></pre>
<p>The book icon was not a standard part of the theme. Luckily in the stack theme all of the icons have been generated using <a href="https://tablericons.com/">Tabler Icons</a> and so it was easy create one that matched perfectly.</p>
<div id="add-comments" class="section level2">
<h2>Add comments</h2>
<p>In my previous site I used <a href="https://blog.disqus.com/">Disqus</a> for comments but this time I wanted to try <a href="https://utteranc.es/">utterances</a>. Utterances uses Github issues to manage comments. As my site is in a Github repo and is hosted via Github pages, it made sense to have one less account to manage. First the utterances app needs to be <a href="https://github.com/apps/utterances">installed</a> onto the repo where you want the comments to go. Then you can use the <a href="https://utteranc.es/">utterances</a> configuration site to generate a code snippet that needs to be inserted into each page.</p>
<pre class="html"><code>&lt;script src=&quot;https://utteranc.es/client.js&quot;
        repo=&quot;[ENTER REPO HERE]&quot;
        issue-term=&quot;pathname&quot;
        theme=&quot;github-light&quot;
        crossorigin=&quot;anonymous&quot;
        async&gt;
&lt;/script&gt;</code></pre>
<p>Again, the <code>stack</code> theme was a good choice as utterances is already part of the theme. All I needed to do to configure was add the code below to the <code>config.yaml</code>.</p>
<pre class="yaml"><code>    comments:
        enabled: true
        provider: utterances
        utterances:
            repo: mrjoh3/blog
            issueTerm: pathname
            label: comment</code></pre>
</div>
<div id="time-to-add-content" class="section level2">
<h2>Time to add content</h2>
<p>And that, as they say, was that. The site is up and running with the new theme. I have made some minor changes to the theme and am quite happy. Really, where I did have issues I should have read the documentation more carefully. At the start of this post I said “pick a theme with good documentation and an example site.” While updating and modifying the theme I have been referring the the <a href="https://docs.stack.jimmycai.com/">theme documentation</a> regularly. It is always helpful, plus the example site meant I saved an enormous amount of time when restructuring the site to suite the theme.</p>
<p>Now that I am up and running, I just need to get to the hard part of adding content. Hopefully this post is a good start.</p>
</div>
</div>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/blogdown/">blogdown</a>
        
            <a href="/tags/hugo/">hugo</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    <section class="article-time">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span class="article-time--modified">
            Last updated on Jul 11, 2021 00:00 UTC
        </span>
    </section></footer>

    
</article>

    <aside class="related-contents--wrapper">
    
    
        <h2 class="section-title">Related contents</h2>
        <div class="related-contents">
            <div class="flex article-list--tile">
                
                    
<article class="has-image">
    <a href="/p/another-blog-about-a-blog/">
        
        
            <div class="article-image">
                
                    <img src="/img/MRJ_2020_DSC9204_narrow.png" loading="lazy" data-key="another-blog-about-a-blog" data-hash="/img/MRJ_2020_DSC9204_narrow.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Another blog about a blog</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/generate-web-link-preview-cards-in-rmarkdown/">
        
        

        <div class="article-details">
            <h2 class="article-title">Generate Web Link Preview Cards in Rmarkdown</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/p/shiny-image-gallery-examples/">
        
        
            <div class="article-image">
                
                    <img src="/img/MRJ_2020_DSC9961.png" loading="lazy" data-key="shiny-image-gallery-examples" data-hash="/img/MRJ_2020_DSC9961.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Shiny and Rmarkdown Image Galleries</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/packages/cytoscape-package/">
        
        
            <div class="article-image">
                
                    <img src="/img/MRJ_2020_DSC9257.png" loading="lazy" data-key="cytoscape-package" data-hash="/img/MRJ_2020_DSC9257.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">cytoscape</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/packages/2018-08-19-c3-package/">
        
        
            <div class="article-image">
                
                    <img src="/img/MRJ_2020_DSC9813.png" loading="lazy" data-key="" data-hash="/img/MRJ_2020_DSC9813.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">c3</h2>
        </div>
    </a>
</article>
                
            </div>
        </div>
    
</aside>


    
        
    <script src="https://utteranc.es/client.js" 
        repo="mrjoh3/blog"
        issue-term="pathname"
        
        label="comment"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;
        setUtterancesTheme(document.body.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        setUtterancesTheme(e.detail)
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2018 - 
        
        2022 Restless Data
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="2.3.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >
            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
